<html>
  <head>
    <script
      src="https://cdn.socket.io/4.6.0/socket.io.min.js"
      integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <h2>Socket.io 사용하기</h2>
    <script>
      /*  메세지 보내기 : socket.emit("이벤트명, data") 두 번째 인자는 데이터
          메세지 받기 : socket.on("이벤트명", (data) => { }) emit의 데이터는 on의 매개변수로*/

      // 클라이언트 소켓 생성 후 연결
      let socket = io.connect();

      // connect는 정해져있는 명이라서 변경 x
      socket.on("connect", () => {
        console.log("server connected");
      });

      socket.on("welcome", (data) => {
        // data : { msg : '' }
        console.log(data.msg);
        socket.emit("response", "hello from front");
      });
    </script>
    <!--실습(1)-->
    <h2>Hello World!</h2>
    <button onClick="buttons('hello')">hello</button>
    <button onClick="buttons('study')">study</button>
    <button onClick="buttons('bye')">bye</button>
    <script>
      const buttons = (msg) => {
        socket.emit("send", msg);
      };
      socket.on("res", (str) => {
        console.log(str);
      });
    </script>
  </body>
</html>
